!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.maapInpParser=r():t.maapInpParser=r()}(self,(()=>(()=>{"use strict";var t={759:t=>{function r(t,e,n,u){var o=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(o,r.prototype),o.expected=e,o.found=n,o.location=u,o.name="SyntaxError",o}function e(t,r,e){return e=e||" ",t.length>r?t:(r-=t.length,t+(e+=e.repeat(r)).slice(0,r))}!function(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}(r,Error),r.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var n,u=null;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){u=t[n].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,a=this.location.source+":"+o.line+":"+o.column;if(u){var i=this.location.end,c=e("",o.line.toString().length),s=u[o.line-1],l=o.line===i.line?i.column:s.length+1;r+="\n --\x3e "+a+"\n"+c+" |\n"+o.line+" | "+s+"\n"+c+" | "+e("",o.column-1)+e("",l-o.column,"^")}else r+="\n at "+a}return r},r.buildMessage=function(t,r){var e={literal:function(t){return'"'+u(t.text)+'"'},class:function(t){var r=t.parts.map((function(t){return Array.isArray(t)?o(t[0])+"-"+o(t[1]):o(t)}));return"["+(t.inverted?"^":"")+r+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function u(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function a(t){return e[t.type](t)}return"Expected "+function(t){var r,e,n=t.map(a);if(n.sort(),n.length>0){for(r=1,e=1;r<n.length;r++)n[r-1]!==n[r]&&(n[e]=n[r],e++);n.length=e}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+u(t)+'"':"end of input"}(r)+" found."},t.exports={SyntaxError:r,parse:function(t,e){var n,u={},o=(e=void 0!==e?e:{}).grammarSource,a={Start:De},i=De,c="\t",s="\v",l="\f",f=" ",p=" ",v="\ufeff",h="\n",d="\r\n",A="\r",b="\u2028",y="\u2029",m="//",g="!",C="C ",x="**",_="$",E="_",L="\\",$="/",w=".",T="0",j="e",I="#",N="action",O="alias",S="as",F="end",R=" time",k="f",M="false",D="function",P="include",U="initiator",z="s",V="if",Z="is",B="lookup variable",H="off",K="on",Y="parameter change",G="parameter file",W="plotfil",q="sensitivity",J="set",Q="t",X="TIMER",tt="title",rt="true",et="userevt",nt="when",ut=",",ot="(",at=")",it="*",ct=">=",st="<=",lt=">",ft="<",pt="+",vt="-",ht="AND",dt="=",At=/^[\n\r\u2028\u2029]/,bt=/^[a-zA-Z]/,yt=/^[a-zA-Z0-9]/,mt=/^[0-9]/,gt=/^[1-9]/,Ct=/^[+\-]/,xt=/^[a-zA-Z0-9:()|]/,_t={type:"any"},Et=Se("\t",!1),Lt=Se("\v",!1),$t=Se("\f",!1),wt=Se(" ",!1),Tt=Se(" ",!1),jt=Se("\ufeff",!1),It=Fe(["\n","\r","\u2028","\u2029"],!1,!1),Nt=Se("\n",!1),Ot=Se("\r\n",!1),St=Se("\r",!1),Ft=Se("\u2028",!1),Rt=Se("\u2029",!1),kt=Se("//",!1),Mt=Se("!",!1),Dt=Se("C ",!1),Pt=Se("**",!1),Ut=Fe([["a","z"],["A","Z"]],!1,!1),zt=Se("$",!1),Vt=Se("_",!1),Zt=Se("\\",!1),Bt=Fe([["a","z"],["A","Z"],["0","9"]],!1,!1),Ht=Se("/",!1),Kt=Se(".",!1),Yt=Se("0",!1),Gt=Fe([["0","9"]],!1,!1),Wt=Fe([["1","9"]],!1,!1),qt=Se("e",!0),Jt=Fe(["+","-"],!1,!1),Qt=Fe([["a","z"],["A","Z"],["0","9"],":","(",")","|"],!1,!1),Xt=Se("#",!1),tr=Se("ACTION",!0),rr=Se("ALIAS",!0),er=Se("AS",!0),nr=Se("END",!0),ur=Se(" TIME",!0),or=Se("F",!0),ar=Se("FALSE",!0),ir=Se("FUNCTION",!0),cr=Se("INCLUDE",!0),sr=Se("INITIATOR",!0),lr=Se("S",!0),fr=Se("IF",!0),pr=Se("IS",!0),vr=Se("LOOKUP VARIABLE",!0),hr=Se("OFF",!0),dr=Se("ON",!0),Ar=Se("PARAMETER CHANGE",!0),br=Se("PARAMETER FILE",!0),yr=Se("PLOTFIL",!0),mr=Se("SENSITIVITY",!0),gr=Se("SET",!0),Cr=(Se("SI",!0),Se("T",!0)),xr=Se("TIMER",!1),_r=Se("TITLE",!0),Er=Se("TRUE",!0),Lr=Se("USEREVT",!0),$r=Se("WHEN",!0),wr=Se(",",!1),Tr=Se("(",!1),jr=Se(")",!1),Ir=Se("*",!1),Nr=Se(">=",!1),Or=Se("<=",!1),Sr=Se(">",!1),Fr=Se("<",!1),Rr=Se("+",!1),kr=Se("-",!1),Mr=Se("AND",!1),Dr=Se("=",!1),Pr=function(t){return t},Ur=function(t){return{type:"comment",value:Ln(t,1).join("")}},zr=function(t,r){let e=t.join("");return r&&(e+=r[0]+r[1]),e},Vr=function(t,r){return{location:Oe(),type:"number",units:(r||[])[1],value:t}},Zr=function(){return parseFloat(Ne())},Br=function(){return parseFloat(Ne())},Hr=function(t){let r="TRUE"===t||"T"===t;return{location:Oe(),type:"boolean",value:r}},Kr=function(t){return{location:Oe(),type:"identifier",value:t.join("")}},Yr=function(t,r){let e=t.join("");return r&&(e+=" "+Ln(r,2).map((t=>t.join(""))).join(" ")),{location:Oe(),type:"parameter_name",value:e}},Gr=function(t,r,e){return{flag:(r||[])[0],location:Oe(),index:Number(t.join("")),type:"parameter",value:e}},Wr=function(t){return{location:Oe(),type:"timer",value:Number(t.join(""))}},qr=function(){return"INITIATORS"},Jr=function(t){return t.filter((t=>"comment"===t.type))},Qr=function(t,r){let e=[t];return r&&(e=e.concat(r[3])),e},Xr=function(t,r){return{arguments:r||[],location:Oe(),type:"call_expression",value:t}},te=function(t,r,e){return{location:Oe(),type:"expression",value:{left:t,op:r,right:e}}},re=function(t){return{location:Oe(),type:"expression_block",value:t}},ee=function(t,r){return{location:Oe(),target:t,type:"assignment",value:r}},ne=function(t,r){return{location:Oe(),target:t,type:"is_expression",value:r}},ue=function(t,r){return{location:Oe(),target:t,type:"as_expression",value:r}},oe=function(t){return{location:Oe(),...t}},ae=function(t){return{location:Oe(),type:"sensitivity",value:t}},ie=function(t){return{type:"title",value:(t||[])[0]}},ce=function(t,r){let e=Ln(t,1).join("");return r&&(e+="\n"+r[1]),e},se=function(t,r){return{fileType:t,type:"file",value:Ln(r,1).join("")}},le=function(t,r){return{blockType:t,type:"block",value:$n(r)}},fe=function(t,r,e){return{blockType:t,test:r,type:"conditional_block",value:$n(e)}},pe=function(t){return{type:"alias",value:$n(t)}},ve=function(t,r){return[t].concat(Ln(r,1))},he=function(t,r){return{n:Number(t.join("")),type:"plotfil",value:$n(r)}},de=function(t,r){let e=[t];return r&&r.length>0&&(e=e.concat(Ln(r,3)[0])),e},Ae=function(t,r){let e=[t];return r&&r.length>0&&(e=e.concat(Ln(r,1)[0])),e},be=function(t){return{type:"user_evt",value:$n(t)}},ye=function(t,r){return{index:Number(t.join("")),location:Oe(),type:"action",value:$n(r)}},me=function(t,r){return{name:t,type:"function",value:r}},ge=function(t){return{type:"set_timer",value:t}},Ce=function(t,r){return{name:t,type:"lookup_variable",value:$n(r)}},xe=function(t,r){let e=[Ln(t,1).join("")];return r&&r.length>0&&(e=e.concat(Ln(r,1)[0])),e},_e=function(t){return{type:"program",value:t||[]}},Ee=function(t,r){let e=[t];for(let t=0;t<r.length;t+=1){for(let n=0;n<r[t][0].length;n+=1)e=e.concat(r[t][0][n]);e=e.concat(r[t][1])}return e},Le=0,$e=0,we=[{line:1,column:1}],Te=0,je=[],Ie=0;if("startRule"in e){if(!(e.startRule in a))throw new Error("Can't start parsing from rule \""+e.startRule+'".');i=a[e.startRule]}function Ne(){return t.substring($e,Le)}function Oe(){return ke($e,Le)}function Se(t,r){return{type:"literal",text:t,ignoreCase:r}}function Fe(t,r,e){return{type:"class",parts:t,inverted:r,ignoreCase:e}}function Re(r){var e,n=we[r];if(n)return n;for(e=r-1;!we[e];)e--;for(n={line:(n=we[e]).line,column:n.column};e<r;)10===t.charCodeAt(e)?(n.line++,n.column=1):n.column++,e++;return we[r]=n,n}function ke(t,r){var e=Re(t),n=Re(r);return{source:o,start:{offset:t,line:e.line,column:e.column},end:{offset:r,line:n.line,column:n.column}}}function Me(t){Le<Te||(Le>Te&&(Te=Le,je=[]),je.push(t))}function De(){var t,r;return t=Le,un(),r=function(){var t,r;return t=Le,(r=_n())===u&&(r=null),$e=t,t=r=_e(r)}(),un(),$e=t,Pr(r)}function Pe(){var r,e,n;return r=Le,e=Le,Ie++,n=function(){var r;return At.test(t.charAt(Le))?(r=t.charAt(Le),Le++):(r=u,0===Ie&&Me(It)),r}(),Ie--,n===u?e=void 0:(Le=e,e=u),e!==u?(n=function(){var r;return t.length>Le?(r=t.charAt(Le),Le++):(r=u,0===Ie&&Me(_t)),r}(),n!==u?r=e=[e,n]:(Le=r,r=u)):(Le=r,r=u),r}function Ue(){var r;return 9===t.charCodeAt(Le)?(r=c,Le++):(r=u,0===Ie&&Me(Et)),r===u&&(11===t.charCodeAt(Le)?(r=s,Le++):(r=u,0===Ie&&Me(Lt)),r===u&&(12===t.charCodeAt(Le)?(r=l,Le++):(r=u,0===Ie&&Me($t)),r===u&&(32===t.charCodeAt(Le)?(r=f,Le++):(r=u,0===Ie&&Me(wt)),r===u&&(160===t.charCodeAt(Le)?(r=p,Le++):(r=u,0===Ie&&Me(Tt)),r===u&&(65279===t.charCodeAt(Le)?(r=v,Le++):(r=u,0===Ie&&Me(jt))))))),r}function ze(){var r;return 10===t.charCodeAt(Le)?(r=h,Le++):(r=u,0===Ie&&Me(Nt)),r===u&&(t.substr(Le,2)===d?(r=d,Le+=2):(r=u,0===Ie&&Me(Ot)),r===u&&(13===t.charCodeAt(Le)?(r=A,Le++):(r=u,0===Ie&&Me(St)),r===u&&(8232===t.charCodeAt(Le)?(r=b,Le++):(r=u,0===Ie&&Me(Ft)),r===u&&(8233===t.charCodeAt(Le)?(r=y,Le++):(r=u,0===Ie&&Me(Rt)))))),r}function Ve(){var r,e,n,o;if(r=Le,e=function(){var r;return t.substr(Le,2)===m?(r=m,Le+=2):(r=u,0===Ie&&Me(kt)),r===u&&(33===t.charCodeAt(Le)?(r=g,Le++):(r=u,0===Ie&&Me(Mt)),r===u&&(t.substr(Le,2)===C?(r=C,Le+=2):(r=u,0===Ie&&Me(Dt)),r===u&&(t.substr(Le,2)===x?(r=x,Le+=2):(r=u,0===Ie&&Me(Pt))))),r}(),e!==u){for(n=[],o=Pe();o!==u;)n.push(o),o=Pe();$e=r,r=Ur(n)}else Le=r,r=u;return r}function Ze(){var r;return(r=Ge())===u&&(r=function(){var r,e,n,o,a,i;return r=Le,e=function(){var r,e,n,o,a;if(r=Le,(e=He())!==u)if(46===t.charCodeAt(Le)?(n=w,Le++):(n=u,0===Ie&&Me(Kt)),n!==u){for(o=[],a=Ke();a!==u;)o.push(a),a=Ke();(a=Ye())===u&&(a=null),$e=r,r=Zr()}else Le=r,r=u;else Le=r,r=u;if(r===u){if(r=Le,46===t.charCodeAt(Le)?(e=w,Le++):(e=u,0===Ie&&Me(Kt)),e!==u){if(n=[],(o=Ke())!==u)for(;o!==u;)n.push(o),o=Ke();else n=u;n!==u?((o=Ye())===u&&(o=null),$e=r,r=Br()):(Le=r,r=u)}else Le=r,r=u;r===u&&(r=Le,(e=He())!==u?((n=Ye())===u&&(n=null),$e=r,r=Br()):(Le=r,r=u))}return r}(),e!==u?(n=Le,Ie++,o=function(){var r;return bt.test(t.charAt(Le))?(r=t.charAt(Le),Le++):(r=u,0===Ie&&Me(Ut)),r===u&&(36===t.charCodeAt(Le)?(r=_,Le++):(r=u,0===Ie&&Me(zt)),r===u&&(95===t.charCodeAt(Le)?(r=E,Le++):(r=u,0===Ie&&Me(Vt)),r===u&&(92===t.charCodeAt(Le)?(r=L,Le++):(r=u,0===Ie&&Me(Zt))))),r}(),o===u&&(o=Ke()),Ie--,o===u?n=void 0:(Le=n,n=u),n!==u?(o=Le,a=on(),(i=Be())!==u?o=a=[a,i]:(Le=o,o=u),o===u&&(o=null),$e=r,r=Vr(e,o)):(Le=r,r=u)):(Le=r,r=u),r}())===u&&(r=Xe()),r}function Be(){var r,e,n,o,a;if(r=Le,e=[],yt.test(t.charAt(Le))?(n=t.charAt(Le),Le++):(n=u,0===Ie&&Me(Bt)),n!==u)for(;n!==u;)e.push(n),yt.test(t.charAt(Le))?(n=t.charAt(Le),Le++):(n=u,0===Ie&&Me(Bt));else e=u;return e!==u?(n=Le,t.substr(Le,2)===x?(o=x,Le+=2):(o=u,0===Ie&&Me(Pt)),o===u&&(47===t.charCodeAt(Le)?(o=$,Le++):(o=u,0===Ie&&Me(Ht))),o!==u&&(a=Be())!==u?n=o=[o,a]:(Le=n,n=u),n===u&&(n=null),$e=r,r=zr(e,n)):(Le=r,r=u),r}function He(){var r,e,n,o;if(48===t.charCodeAt(Le)?(r=T,Le++):(r=u,0===Ie&&Me(Yt)),r===u)if(r=Le,e=function(){var r;return gt.test(t.charAt(Le))?(r=t.charAt(Le),Le++):(r=u,0===Ie&&Me(Wt)),r}(),e!==u){for(n=[],o=Ke();o!==u;)n.push(o),o=Ke();r=e=[e,n]}else Le=r,r=u;return r}function Ke(){var r;return mt.test(t.charAt(Le))?(r=t.charAt(Le),Le++):(r=u,0===Ie&&Me(Gt)),r}function Ye(){var r,e,n;return r=Le,e=function(){var r;return t.substr(Le,1).toLowerCase()===j?(r=t.charAt(Le),Le++):(r=u,0===Ie&&Me(qt)),r}(),e!==u?(n=function(){var r,e,n,o;if(r=Le,Ct.test(t.charAt(Le))?(e=t.charAt(Le),Le++):(e=u,0===Ie&&Me(Jt)),e===u&&(e=null),n=[],(o=Ke())!==u)for(;o!==u;)n.push(o),o=Ke();else n=u;return n!==u?r=e=[e,n]:(Le=r,r=u),r}(),n!==u?r=e=[e,n]:(Le=r,r=u)):(Le=r,r=u),r}function Ge(){var r,e,n,o;return r=Le,e=function(){var r;return t.substr(Le,4).toLowerCase()===rt?(r=t.substr(Le,4),Le+=4):(r=u,0===Ie&&Me(Er)),r}(),e===u&&(e=function(){var r;return t.substr(Le,5).toLowerCase()===M?(r=t.substr(Le,5),Le+=5):(r=u,0===Ie&&Me(ar)),r}(),e===u&&(e=function(){var r;return t.substr(Le,1).toLowerCase()===Q?(r=t.charAt(Le),Le++):(r=u,0===Ie&&Me(Cr)),r}(),e===u&&(e=function(){var r;return t.substr(Le,1).toLowerCase()===k?(r=t.charAt(Le),Le++):(r=u,0===Ie&&Me(or)),r}()))),e!==u?(n=Le,Ie++,bt.test(t.charAt(Le))?(o=t.charAt(Le),Le++):(o=u,0===Ie&&Me(Ut)),Ie--,o===u?n=void 0:(Le=n,n=u),n!==u?($e=r,r=Hr(e)):(Le=r,r=u)):(Le=r,r=u),r}function We(){var r,e,n,o;return r=Le,(e=rn())===u&&(e=en())===u&&(e=tn()),e!==u?(n=Le,Ie++,bt.test(t.charAt(Le))?(o=t.charAt(Le),Le++):(o=u,0===Ie&&Me(Ut)),Ie--,o===u?n=void 0:(Le=n,n=u),n!==u?r=e=[e,n]:(Le=r,r=u)):(Le=r,r=u),r}function qe(){var r,e,n,o;if(r=Le,e=Le,Ie++,n=We(),Ie--,n===u?e=void 0:(Le=e,e=u),e!==u){if(n=[],yt.test(t.charAt(Le))?(o=t.charAt(Le),Le++):(o=u,0===Ie&&Me(Bt)),o!==u)for(;o!==u;)n.push(o),yt.test(t.charAt(Le))?(o=t.charAt(Le),Le++):(o=u,0===Ie&&Me(Bt));else n=u;n!==u?($e=r,r=Kr(n)):(Le=r,r=u)}else Le=r,r=u;return r}function Je(){var r;return xt.test(t.charAt(Le))?(r=t.charAt(Le),Le++):(r=u,0===Ie&&Me(Qt)),r}function Qe(){var t,r,e,n,o,a,i,c,s;if(t=Le,r=Le,Ie++,e=We(),Ie--,e===u?r=void 0:(Le=r,r=u),r!==u){if(e=[],(n=Je())!==u)for(;n!==u;)e.push(n),n=Je();else e=u;if(e!==u){if(n=[],o=Le,a=on(),i=Le,Ie++,c=We(),Ie--,c===u?i=void 0:(Le=i,i=u),i!==u){if(c=[],(s=Je())!==u)for(;s!==u;)c.push(s),s=Je();else c=u;c!==u?o=a=[a,i,c]:(Le=o,o=u)}else Le=o,o=u;if(o!==u)for(;o!==u;)if(n.push(o),o=Le,a=on(),i=Le,Ie++,c=We(),Ie--,c===u?i=void 0:(Le=i,i=u),i!==u){if(c=[],(s=Je())!==u)for(;s!==u;)c.push(s),s=Je();else c=u;c!==u?o=a=[a,i,c]:(Le=o,o=u)}else Le=o,o=u;else n=u;n!==u?($e=t,t=Yr(e,n)):(Le=t,t=u)}else Le=t,t=u}else Le=t,t=u;return t}function Xe(){var r,e,n,o,a;if(r=Le,e=function(){var r;return t.substr(Le,5)===X?(r=X,Le+=5):(r=u,0===Ie&&Me(xr)),r}(),e!==u){if(on(),35===t.charCodeAt(Le)?(n=I,Le++):(n=u,0===Ie&&Me(Xt)),n===u&&(n=null),o=[],mt.test(t.charAt(Le))?(a=t.charAt(Le),Le++):(a=u,0===Ie&&Me(Gt)),a!==u)for(;a!==u;)o.push(a),mt.test(t.charAt(Le))?(a=t.charAt(Le),Le++):(a=u,0===Ie&&Me(Gt));else o=u;o!==u?($e=r,r=Wr(o)):(Le=r,r=u)}else Le=r,r=u;return r}function tn(){var r;return t.substr(Le,2).toLowerCase()===S?(r=t.substr(Le,2),Le+=2):(r=u,0===Ie&&Me(er)),r}function rn(){var r,e,n,o;return r=Le,t.substr(Le,3).toLowerCase()===F?(e=t.substr(Le,3),Le+=3):(e=u,0===Ie&&Me(nr)),e!==u?(n=Le,Ie++,t.substr(Le,5).toLowerCase()===R?(o=t.substr(Le,5),Le+=5):(o=u,0===Ie&&Me(ur)),Ie--,o===u?n=void 0:(Le=n,n=u),n!==u?r=e=[e,n]:(Le=r,r=u)):(Le=r,r=u),r}function en(){var r;return t.substr(Le,2).toLowerCase()===Z?(r=t.substr(Le,2),Le+=2):(r=u,0===Ie&&Me(pr)),r}function nn(){var t,r,e;if(t=Le,r=[],(e=Ue())===u&&(e=ze())===u&&(e=Ve()),e!==u)for(;e!==u;)r.push(e),(e=Ue())===u&&(e=ze())===u&&(e=Ve());else r=u;return r!==u&&($e=t,r=Jr(r)),r}function un(){var t,r,e;for(t=Le,r=[],(e=Ue())===u&&(e=ze())===u&&(e=Ve());e!==u;)r.push(e),(e=Ue())===u&&(e=ze())===u&&(e=Ve());return $e=t,Jr(r)}function on(){var t,r;for(t=[],r=Ue();r!==u;)t.push(r),r=Ue();return t}function an(){var r,e,n,o,a,i,c;return r=Le,(e=fn())!==u?(n=Le,o=on(),44===t.charCodeAt(Le)?(a=ut,Le++):(a=u,0===Ie&&Me(wr)),a!==u?(i=on(),(c=an())!==u?n=o=[o,a,i,c]:(Le=n,n=u)):(Le=n,n=u),n===u&&(n=null),$e=r,r=Qr(e,n)):(Le=r,r=u),r}function cn(){var r,e,n,o,a;return r=Le,(e=qe())!==u?(on(),40===t.charCodeAt(Le)?(n=ot,Le++):(n=u,0===Ie&&Me(Tr)),n!==u?((o=an())===u&&(o=null),41===t.charCodeAt(Le)?(a=at,Le++):(a=u,0===Ie&&Me(jr)),a!==u?($e=r,r=Xr(e,o)):(Le=r,r=u)):(Le=r,r=u)):(Le=r,r=u),r}function sn(){var r,e,n,o;return r=Le,(e=fn())!==u?(on(),n=function(){var r;return t.substr(Le,2)===x?(r=x,Le+=2):(r=u,0===Ie&&Me(Pt)),r===u&&(42===t.charCodeAt(Le)?(r=it,Le++):(r=u,0===Ie&&Me(Ir)),r===u&&(47===t.charCodeAt(Le)?(r=$,Le++):(r=u,0===Ie&&Me(Ht)),r===u&&(t.substr(Le,2)===ct?(r=ct,Le+=2):(r=u,0===Ie&&Me(Nr)),r===u&&(t.substr(Le,2)===st?(r=st,Le+=2):(r=u,0===Ie&&Me(Or)),r===u&&(62===t.charCodeAt(Le)?(r=lt,Le++):(r=u,0===Ie&&Me(Sr)),r===u&&(60===t.charCodeAt(Le)?(r=ft,Le++):(r=u,0===Ie&&Me(Fr)),r===u&&(43===t.charCodeAt(Le)?(r=pt,Le++):(r=u,0===Ie&&Me(Rr)),r===u&&(45===t.charCodeAt(Le)?(r=vt,Le++):(r=u,0===Ie&&Me(kr)),r===u&&(t.substr(Le,3)===ht?(r=ht,Le+=3):(r=u,0===Ie&&Me(Mr))))))))))),r}(),n!==u?(on(),(o=sn())===u&&(o=fn()),o!==u?($e=r,r=te(e,n,o)):(Le=r,r=u)):(Le=r,r=u)):(Le=r,r=u),r}function ln(){var r,e,n,o;return r=Le,40===t.charCodeAt(Le)?(e=ot,Le++):(e=u,0===Ie&&Me(Tr)),e!==u&&(n=sn())!==u?(41===t.charCodeAt(Le)?(o=at,Le++):(o=u,0===Ie&&Me(jr)),o!==u?($e=r,r=re(n)):(Le=r,r=u)):(Le=r,r=u),r}function fn(){var t;return(t=cn())===u&&(t=ln())===u&&(t=dn()),t}function pn(){var t,r,e;return t=Le,(r=dn())!==u?(on(),en()!==u?(on(),(e=hn())!==u?($e=t,t=ne(r,e)):(Le=t,t=u)):(Le=t,t=u)):(Le=t,t=u),t}function vn(){var t,r,e;return t=Le,(r=dn())!==u?(on(),tn()!==u?(on(),(e=dn())!==u?($e=t,t=ue(r,e)):(Le=t,t=u)):(Le=t,t=u)):(Le=t,t=u),t}function hn(){var t;return(t=pn())===u&&(t=sn())===u&&(t=fn()),t}function dn(){var t;return(t=cn())===u&&(t=Ze())===u&&(t=Qe())===u&&(t=qe()),t}function An(){var r,e;return r=Le,e=function(){var r,e,n;return r=Le,e=function(){var r;return t.substr(Le,11).toLowerCase()===q?(r=t.substr(Le,11),Le+=11):(r=u,0===Ie&&Me(mr)),r}(),e!==u&&nn()!==u?(n=function(){var r;return t.substr(Le,2).toLowerCase()===K?(r=t.substr(Le,2),Le+=2):(r=u,0===Ie&&Me(dr)),r}(),n===u&&(n=function(){var r;return t.substr(Le,3).toLowerCase()===H?(r=t.substr(Le,3),Le+=3):(r=u,0===Ie&&Me(hr)),r}()),n!==u?($e=r,r=ae(n)):(Le=r,r=u)):(Le=r,r=u),r}(),e===u&&(e=function(){var r,e,n,o,a;return r=Le,e=function(){var r;return t.substr(Le,5).toLowerCase()===tt?(r=t.substr(Le,5),Le+=5):(r=u,0===Ie&&Me(_r)),r}(),e!==u&&nn()!==u?(n=Le,(o=bn())!==u&&(a=nn())!==u?n=o=[o,a]:(Le=n,n=u),n===u&&(n=null),(o=rn())!==u?($e=r,r=ie(n)):(Le=r,r=u)):(Le=r,r=u),r}(),e===u&&(e=function(){var r,e,n,o;if(r=Le,e=function(){var r;return t.substr(Le,14).toLowerCase()===G?(r=t.substr(Le,14),Le+=14):(r=u,0===Ie&&Me(br)),r}(),e===u&&(e=function(){var r;return t.substr(Le,7).toLowerCase()===P?(r=t.substr(Le,7),Le+=7):(r=u,0===Ie&&Me(cr)),r}()),e!==u){if(on(),n=[],(o=Pe())!==u)for(;o!==u;)n.push(o),o=Pe();else n=u;n!==u?($e=r,r=se(e,n)):(Le=r,r=u)}else Le=r,r=u;return r}(),e===u&&(e=function(){var r,e,n,o,a;return r=Le,e=function(){var r;return t.substr(Le,16).toLowerCase()===Y?(r=t.substr(Le,16),Le+=16):(r=u,0===Ie&&Me(Ar)),r}(),e===u&&(e=function(){var r,e,n;return r=Le,t.substr(Le,9).toLowerCase()===U?(e=t.substr(Le,9),Le+=9):(e=u,0===Ie&&Me(sr)),e!==u?(t.substr(Le,1).toLowerCase()===z?(n=t.charAt(Le),Le++):(n=u,0===Ie&&Me(lr)),n===u&&(n=null),$e=r,r=qr()):(Le=r,r=u),r}()),e!==u&&nn()!==u?(n=Le,(o=_n())!==u&&(a=nn())!==u?n=o=[o,a]:(Le=n,n=u),n===u&&(n=null),(o=rn())!==u?($e=r,r=le(e,n)):(Le=r,r=u)):(Le=r,r=u),r}(),e===u&&(e=function(){var r,e,n,o,a,i;return r=Le,e=function(){var r;return t.substr(Le,4).toLowerCase()===nt?(r=t.substr(Le,4),Le+=4):(r=u,0===Ie&&Me($r)),r}(),e===u&&(e=function(){var r;return t.substr(Le,2).toLowerCase()===V?(r=t.substr(Le,2),Le+=2):(r=u,0===Ie&&Me(fr)),r}()),e!==u?(on(),(n=hn())!==u&&nn()!==u?(o=Le,(a=_n())!==u&&(i=nn())!==u?o=a=[a,i]:(Le=o,o=u),o===u&&(o=null),(a=rn())!==u?($e=r,r=fe(e,n,o)):(Le=r,r=u)):(Le=r,r=u)):(Le=r,r=u),r}(),e===u&&(e=function(){var r,e,n,o,a;return r=Le,e=function(){var r;return t.substr(Le,5).toLowerCase()===O?(r=t.substr(Le,5),Le+=5):(r=u,0===Ie&&Me(rr)),r}(),e!==u&&nn()!==u?(n=Le,o=function(){var t,r,e,n,o,a;if(t=Le,(r=vn())!==u){for(e=[],n=Le,(o=nn())!==u&&(a=vn())!==u?n=o=[o,a]:(Le=n,n=u);n!==u;)e.push(n),n=Le,(o=nn())!==u&&(a=vn())!==u?n=o=[o,a]:(Le=n,n=u);$e=t,t=ve(r,e)}else Le=t,t=u;return t}(),o!==u&&(a=nn())!==u?n=o=[o,a]:(Le=n,n=u),n===u&&(n=null),(o=rn())!==u?($e=r,r=pe(n)):(Le=r,r=u)):(Le=r,r=u),r}(),e===u&&(e=function(){var r,e,n,o,a,i,c;if(r=Le,e=function(){var r;return t.substr(Le,7).toLowerCase()===W?(r=t.substr(Le,7),Le+=7):(r=u,0===Ie&&Me(yr)),r}(),e!==u){if(on(),n=[],mt.test(t.charAt(Le))?(o=t.charAt(Le),Le++):(o=u,0===Ie&&Me(Gt)),o!==u)for(;o!==u;)n.push(o),mt.test(t.charAt(Le))?(o=t.charAt(Le),Le++):(o=u,0===Ie&&Me(Gt));else n=u;n!==u&&(o=nn())!==u?(a=Le,(i=mn())!==u&&(c=nn())!==u?a=i=[i,c]:(Le=a,a=u),a===u&&(a=null),(i=rn())!==u?($e=r,r=he(n,a)):(Le=r,r=u)):(Le=r,r=u)}else Le=r,r=u;return r}(),e===u&&(e=function(){var r,e,n,o,a;return r=Le,e=function(){var r;return t.substr(Le,7).toLowerCase()===et?(r=t.substr(Le,7),Le+=7):(r=u,0===Ie&&Me(Lr)),r}(),e!==u&&nn()!==u?(n=Le,(o=gn())!==u&&(a=nn())!==u?n=o=[o,a]:(Le=n,n=u),n===u&&(n=null),(o=rn())!==u?($e=r,r=be(n)):(Le=r,r=u)):(Le=r,r=u),r}(),e===u&&(e=function(){var r,e,n,o,a;return r=Le,e=function(){var r;return t.substr(Le,8).toLowerCase()===D?(r=t.substr(Le,8),Le+=8):(r=u,0===Ie&&Me(ir)),r}(),e!==u?(on(),(n=qe())!==u?(on(),61===t.charCodeAt(Le)?(o=dt,Le++):(o=u,0===Ie&&Me(Dr)),o!==u?(on(),(a=hn())!==u?($e=r,r=me(n,a)):(Le=r,r=u)):(Le=r,r=u)):(Le=r,r=u)):(Le=r,r=u),r}(),e===u&&(e=function(){var r,e,n;return r=Le,e=function(){var r;return t.substr(Le,3).toLowerCase()===J?(r=t.substr(Le,3),Le+=3):(r=u,0===Ie&&Me(gr)),r}(),e!==u?(on(),(n=Xe())!==u?($e=r,r=ge(n)):(Le=r,r=u)):(Le=r,r=u),r}(),e===u&&(e=function(){var r,e,n,o,a,i;return r=Le,e=function(){var r;return t.substr(Le,15).toLowerCase()===B?(r=t.substr(Le,15),Le+=15):(r=u,0===Ie&&Me(vr)),r}(),e!==u?(on(),(n=dn())!==u&&nn()!==u?(o=Le,(a=xn())!==u&&(i=nn())!==u?o=a=[a,i]:(Le=o,o=u),o===u&&(o=null),(a=rn())!==u?($e=r,r=Ce(n,o)):(Le=r,r=u)):(Le=r,r=u)):(Le=r,r=u),r}())))))))))),e!==u&&($e=r,e=oe(e)),e}function bn(){var t,r,e,n,o,a;if(t=Le,r=Le,Ie++,e=rn(),Ie--,e===u?r=void 0:(Le=r,r=u),r!==u){if(e=[],(n=Pe())!==u)for(;n!==u;)e.push(n),n=Pe();else e=u;e!==u?(n=Le,(o=nn())!==u&&(a=bn())!==u?n=o=[o,a]:(Le=n,n=u),n===u&&(n=null),$e=t,t=ce(e,n)):(Le=t,t=u)}else Le=t,t=u;return t}function yn(){var r,e,n,o,a,i,c,s;if(r=Le,(e=dn())!==u){for(n=[],o=Le,a=on(),44===t.charCodeAt(Le)?(i=ut,Le++):(i=u,0===Ie&&Me(wr)),i!==u?(c=on(),(s=yn())!==u?o=a=[a,i,c,s]:(Le=o,o=u)):(Le=o,o=u);o!==u;)n.push(o),o=Le,a=on(),44===t.charCodeAt(Le)?(i=ut,Le++):(i=u,0===Ie&&Me(wr)),i!==u?(c=on(),(s=yn())!==u?o=a=[a,i,c,s]:(Le=o,o=u)):(Le=o,o=u);$e=r,r=de(e,n)}else Le=r,r=u;return r}function mn(){var t,r,e,n,o,a;if(t=Le,(r=yn())!==u){for(e=[],n=Le,(o=nn())!==u&&(a=mn())!==u?n=o=[o,a]:(Le=n,n=u);n!==u;)e.push(n),n=Le,(o=nn())!==u&&(a=mn())!==u?n=o=[o,a]:(Le=n,n=u);$e=t,t=Ae(r,e)}else Le=t,t=u;return t}function gn(){var t,r,e,n,o,a;if(t=Le,(r=Cn())!==u){for(e=[],n=Le,(o=nn())!==u&&(a=Cn())!==u?n=o=[o,a]:(Le=n,n=u);n!==u;)e.push(n),n=Le,(o=nn())!==u&&(a=Cn())!==u?n=o=[o,a]:(Le=n,n=u);$e=t,t=ve(r,e)}else Le=t,t=u;return t}function Cn(){var r;return(r=function(){var r,e,n,o,a;if(r=Le,e=[],mt.test(t.charAt(Le))?(n=t.charAt(Le),Le++):(n=u,0===Ie&&Me(Gt)),n!==u)for(;n!==u;)e.push(n),mt.test(t.charAt(Le))?(n=t.charAt(Le),Le++):(n=u,0===Ie&&Me(Gt));else e=u;return e!==u?(n=on(),o=Le,(a=Ge())!==u?o=a=[a,on()]:(Le=o,o=u),o===u&&(o=null),(a=hn())===u&&(a=Qe()),a!==u?($e=r,r=Gr(e,o,a)):(Le=r,r=u)):(Le=r,r=u),r}())===u&&(r=function(){var r,e,n,o,a,i,c,s;if(r=Le,e=function(){var r;return t.substr(Le,6).toLowerCase()===N?(r=t.substr(Le,6),Le+=6):(r=u,0===Ie&&Me(tr)),r}(),e!==u)if(on(),35===t.charCodeAt(Le)?(n=I,Le++):(n=u,0===Ie&&Me(Xt)),n!==u){if(o=[],mt.test(t.charAt(Le))?(a=t.charAt(Le),Le++):(a=u,0===Ie&&Me(Gt)),a!==u)for(;a!==u;)o.push(a),mt.test(t.charAt(Le))?(a=t.charAt(Le),Le++):(a=u,0===Ie&&Me(Gt));else o=u;o!==u&&(a=nn())!==u?(i=Le,(c=gn())!==u&&(s=nn())!==u?i=c=[c,s]:(Le=i,i=u),i===u&&(i=null),(c=rn())!==u?($e=r,r=ye(o,i)):(Le=r,r=u)):(Le=r,r=u)}else Le=r,r=u;else Le=r,r=u;return r}())===u&&(r=En()),r}function xn(){var t,r,e,n,o,a,i;if(t=Le,r=Le,Ie++,e=We(),Ie--,e===u?r=void 0:(Le=r,r=u),r!==u){if(e=[],(n=Pe())!==u)for(;n!==u;)e.push(n),n=Pe();else e=u;if(e!==u){for(n=[],o=Le,(a=nn())!==u&&(i=xn())!==u?o=a=[a,i]:(Le=o,o=u);o!==u;)n.push(o),o=Le,(a=nn())!==u&&(i=xn())!==u?o=a=[a,i]:(Le=o,o=u);$e=t,t=xe(e,n)}else Le=t,t=u}else Le=t,t=u;return t}function _n(){var t,r,e,n,o,a;if(t=Le,(r=En())!==u){for(e=[],n=Le,(o=nn())!==u&&(a=En())!==u?n=o=[o,a]:(Le=n,n=u);n!==u;)e.push(n),n=Le,(o=nn())!==u&&(a=En())!==u?n=o=[o,a]:(Le=n,n=u);$e=t,t=Ee(r,e)}else Le=t,t=u;return t}function En(){var r;return(r=An())===u&&(r=function(){var t,r,e,n;if(t=Le,(r=cn())===u&&(r=qe()),r!==u)if(Ue()!==u){if(e=[],(n=Ue())!==u)for(;n!==u;)e.push(n),n=Ue();else e=u;e!==u&&(n=hn())!==u?($e=t,t=ee(r,n)):(Le=t,t=u)}else Le=t,t=u;else Le=t,t=u;return t}())===u&&(r=function(){var r,e,n,o;return r=Le,(e=cn())===u&&(e=qe()),e!==u?(on(),61===t.charCodeAt(Le)?(n=dt,Le++):(n=u,0===Ie&&Me(Dr)),n!==u?(on(),(o=hn())!==u?($e=r,r=ee(e,o)):(Le=r,r=u)):(Le=r,r=u)):(Le=r,r=u),r}())===u&&(r=vn())===u&&(r=pn())===u&&(r=sn())===u&&(r=cn())===u&&(r=ln())===u&&(r=Qe())===u&&(r=Ze())===u&&(r=qe()),r}function Ln(t,r){return t.map((t=>t[r]))}function $n(t){return(t||[])[0]||[]}if((n=i())!==u&&Le===t.length)return n;throw n!==u&&Le<t.length&&Me({type:"end"}),function(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}(je,Te<t.length?t.charAt(Te):null,Te<t.length?ke(Te,Te+1):ke(Te,Te))}}},56:function(t,r,e){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});const u=n(e(759)),o=n(e(773));r.default=(0,o.default)(u.default)},947:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.default=function t(r,e,n,u=[]){try{const t=r.parse(e,n);if(!(null==n?void 0:n.locations)){const r=t=>{t&&delete t.location,"object"==typeof t&&Object.values(t).forEach((t=>r(t)))};r(t)}return{errors:u,input:e,output:t}}catch(o){const a=o;if(a.location&&!1!==(null==n?void 0:n.safeMode)){const o=e.split("\n"),i=a.location.start.line-1;return o[i]=`// ${o[i]}`,t(r,o.join("\n"),n,u.concat(a))}throw o}}},69:(t,r)=>{function e(t){return["number","boolean","timer"].indexOf(t)>=0}function n(t){return["sensitivity","title","file","block","conditional_block","alias","plotfil","user_evt","function","set_timer","lookup_variable","action"].indexOf(t)>=0}function u(t){return t.value?"T":"F"}function o(t){return`TIMER #${t.value}`}function a(t){switch(t.type){case"number":return function(t){let r=`${t.value}`;return t.units&&(r+=` ${t.units}`),r}(t);case"boolean":return u(t);default:return o(t)}}function i(t){return t.value}function c(t){return t.value}function s(t){let r=`${t.index} `;return t.flag&&(r+=`${u(t.flag)} `),"parameter_name"===t.value.type?r+=c(t.value):r+=b(t.value),r}function l(t){return`${i(t.value)}(${function(t){let r="";return t.forEach((t=>{r+=`${v(t)},`})),r.substring(0,r.length-1)}(t.arguments)})`}function f(t){let r=`${v(t.value.left)} ${t.value.op} `;return"expression"===t.value.right.type?r+=f(t.value.right):r+=v(t.value.right),r}function p(t){return`(${f(t.value)})`}function v(t){return"call_expression"===t.type?l(t):"expression_block"===t.type?p(t):y(t)}function h(t){let r="";return r="call_expression"===t.target.type?l(t.target):i(t.target),`${r} = ${b(t.value)}`}function d(t){return`${y(t.target)} IS ${b(t.value)}`}function A(t){return`${y(t.target)} AS ${i(t.value)}`}function b(t){switch(t.type){case"is_expression":return d(t);case"expression":return f(t);default:return v(t)}}function y(t){return"call_expression"===t.type?l(t):e(t.type)?a(t):"parameter_name"===t.type?c(t):i(t)}function m(t){switch(t.type){case"sensitivity":return`SENSITIVITY ${t.value}`;case"title":return`TITLE\n${t.value||""}\nEND`;case"file":return`${(c=t).fileType} ${c.value}`;case"block":return`${(a=t).blockType}\n${a.value.map((t=>x(t))).join("\n")}\nEND`;case"conditional_block":return`${(u=t).blockType} ${b(u.test)}\n${u.value.map((t=>x(t))).join("\n")}\nEND`;case"alias":return`ALIAS\n${t.value.map((t=>A(t))).join("\n")}\nEND`;case"plotfil":return`PLOTFIL ${(n=t).n}\n${n.value.map((t=>t.map((t=>y(t))).join(","))).join("\n")}\nEND`;case"user_evt":return`USEREVT\n${g(t.value)}\nEND`;case"function":return`FUNCTION ${i((e=t).name)} = ${b(e.value)}`;case"set_timer":return`SET ${o(t.value)}`;default:return`LOOKUP VARIABLE ${y((r=t).name)}\n${r.value.join("\n")}\nEND`}var r,e,n,u,a,c}function g(t){return t.map((t=>{return"parameter"===t.type?s(t):"action"===t.type?`ACTION #${(r=t).index}\n${g(r.value)}\nEND`:x(t);var r})).join("\n")}function C(t){return`// ${t.value}`}function x(t){return"comment"===t.type?C(t):n(t.type)?m(t):"assignment"===t.type?h(t):"as_expression"===t.type?A(t):b(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){if(n(t.type))return m(t);if(e(t.type))return a(t);switch(t.type){case"program":return t.value.map((t=>x(t))).join("\n");case"parameter":return s(t);case"call_expression":return l(t);case"expression":return f(t);case"expression_block":return p(t);case"assignment":return h(t);case"is_expression":return d(t);case"as_expression":return A(t);case"identifier":return i(t);case"parameter_name":return c(t);case"comment":return C(t);default:throw new Error(`Unexpected input type: ${t.type}`)}}},773:function(t,r,e){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});const u=n(e(947)),o=n(e(69));r.default=function(t){const r={options:{locations:!1,safeMode:!0},parse:(e,n)=>(0,u.default)(t,e,Object.assign(Object.assign({},r.options),n)),toString:t=>(0,o.default)(t)};return r}}},r={};return function e(n){var u=r[n];if(void 0!==u)return u.exports;var o=r[n]={exports:{}};return t[n].call(o.exports,o,o.exports,e),o.exports}(56)})()));